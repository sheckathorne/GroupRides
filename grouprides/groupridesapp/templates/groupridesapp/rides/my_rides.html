{% extends "groupridesapp/header.html" %}
{% load static %}
{% block content %}
{% load crispy_forms_tags %}
<div class="w-full">
    <form method="get">
        {% crispy form %}
    </form>
</div>
{% include 'groupridesapp/rides/modals/leave_ride.html' %}
{% if my_upcoming_rides.paginator.num_pages > 1 %}
    {% include 'groupridesapp/pagination.html' %}
{% endif %}
<div class="grid flex-grid grid-cols-1 w-full gap-2">
{% for ride in my_upcoming_rides %}
    {% with event_occurence=ride.event_occurence %}
        {% include 'groupridesapp/rides/ride_card/ride_card.html' with is_registered=True user=user %}
    {% endwith %}
{% empty %}
    Not currently registered for any rides in the next week. (button to find/view rides)
{% endfor %}
    </div>
{% if my_upcoming_rides.paginator.num_pages > 1 %}
    {% include 'groupridesapp/pagination.html' %}
{% endif %}
<script src="{% static 'groupridesapp/js/filter_rides.js' %}"></script>
<script src="{% static 'groupridesapp/js/join_leave_ride.js' %}"></script>
{% endblock content %}